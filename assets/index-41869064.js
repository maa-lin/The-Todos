var g=Object.defineProperty;var E=(t,e,s)=>e in t?g(t,e,{enumerable:!0,configurable:!0,writable:!0,value:s}):t[e]=s;var a=(t,e,s)=>(E(t,typeof e!="symbol"?e+"":e,s),s);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))i(n);new MutationObserver(n=>{for(const l of n)if(l.type==="childList")for(const o of l.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&i(o)}).observe(document,{childList:!0,subtree:!0});function s(n){const l={};return n.integrity&&(l.integrity=n.integrity),n.referrerPolicy&&(l.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?l.credentials="include":n.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function i(n){if(n.ep)return;n.ep=!0;const l=s(n);fetch(n.href,l)}})();class v{constructor(e,s){a(this,"task");a(this,"isDone");this.task=e,this.isDone=s}}class T{constructor(e,s){a(this,"heading");a(this,"list");this.heading=e,this.list=s}}const f=document.createElement("h1");f.innerHTML="My todo lists";document.getElementById("app").appendChild(f);const p=document.createElement("section");p.className="new-list-container";document.getElementById("app").appendChild(p);const d=document.createElement("input");d.placeholder="New todo-list...";p.appendChild(d);const c=document.createElement("button");c.innerHTML="Create";c.disabled=!0;p.appendChild(c);d.addEventListener("input",()=>{c.disabled=!1});c.addEventListener("click",()=>{const t=d.value,e=[],s=new T(t,e);r(s),d.value="",c.disabled=!0,m(s)});const u=document.createElement("section");u.className="container";document.getElementById("app").appendChild(u);window.onload=()=>{const t=JSON.parse(localStorage.getItem("todoLists"));for(let e=0;e<t.length;e++)r(t[e])};const m=t=>{let e=JSON.parse(localStorage.getItem("todoLists"))||[];e.length===0&&e.push(t);let s=!1;for(let i=0;i<e.length;i++)e[i].heading===t.heading&&(e[i]=t,s=!0);s===!1&&e.push(t),localStorage.setItem("todoLists",JSON.stringify(e))},C=(t,e,s)=>{const i=document.createElement("div");i.className="btn-container",t.appendChild(i);const n=document.createElement("button"),l=document.createElement("button");n.innerHTML="Remove",l.innerHTML="Sort",i.appendChild(n),i.appendChild(l),w(n,e,t),b(l,s,t)},b=(t,e,s)=>{t.addEventListener("click",()=>{let i=[];for(let n=0;n<e.list.length;n++)e.list[n].isDone===!0&&(i.push(e.list[n]),e.list.splice(n,1),n--);for(let n=0;n<i.length;n++)e.list.push(i[n]);s.remove(),r(e),m(e)})},w=(t,e,s)=>{t.addEventListener("click",()=>{e.removeChild(s)})},N=(t,e)=>{const s=document.createElement("div");s.className="new-todo-container",t.appendChild(s);const i=document.createElement("input");i.placeholder="New todo...",s.appendChild(i);const n=document.createElement("button");n.innerHTML="Add",s.appendChild(n),n.addEventListener("click",()=>{const l=new v(i.value,!1);e.list.unshift(l),t.remove(),r(e),m(e)})},r=t=>{const e=document.createElement("div");e.className="list-container",u.appendChild(e);const s=document.createElement("h2");s.innerHTML=t.heading,e.appendChild(s),N(e,t);const i=document.createElement("ol");e.appendChild(i);for(let n=0;n<t.list.length;n++){const l=document.createElement("li"),o=document.createElement("span");o.innerHTML=t.list[n].task,l.appendChild(o),i.appendChild(l);const h=document.createElement("button");h.innerHTML="&#x274C;",l.appendChild(h),h.addEventListener("click",()=>{t.list.splice(n,1),e.remove(),r(t),m(t)}),t.list[n].isDone===!0&&(o.className="li--state-finished"),o.addEventListener("click",()=>{t.list[n].isDone===!1?t.list[n].isDone=!0:t.list[n].isDone=!1,e.remove(),r(t),m(t)})}C(e,u,t)};
